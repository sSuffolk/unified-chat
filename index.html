<!-- /index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>YouTube/Twitch Multi Chat ðŸŽ®âœ¨</title>
  <link rel="icon" href="https://www.youtube.com/s/desktop/ffaa45ee/img/favicon_32.png" type="image/png">
  <style>
    :root{
      --vh: 1vh;                 /* real viewport unit, set via JS for iOS */
      --tab-h: 56px;             /* updated via JS */
      --bg-color:#f0f0f0; --header-bg:#333; --header-text:#fff; --input-border:#ccc;
      --button-primary-bg:#61afef; --button-primary-hover:#529dce;
      --button-secondary-bg:#98c379; --button-secondary-hover:#7ca95e;
      --tab-bg:#444; --tab-active-bg:#61afef;
      --radius:12px;
    }

    html, body { height: calc(var(--vh) * 100); }
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
      background:var(--bg-color);
      display:flex; flex-direction:column;
      min-height: calc(var(--vh) * 100);
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
      overscroll-behavior-y:none;
    }

    header{
      background:var(--header-bg); color:var(--header-text);
      padding:10px 8px; /* tighter than before */
      padding-top: calc(10px + env(safe-area-inset-top));
      box-shadow:0 2px 5px rgba(0,0,0,.2);
      position:relative; z-index:10;
    }
    header h2{ margin:0 0 8px; font-size:1.15rem; letter-spacing:.2px; }
    .controls{
      margin-bottom:8px; display:flex; justify-content:center; align-items:center; flex-wrap:wrap; gap:8px;
    }
    .controls input[type="text"]{
      flex:1 1 240px; max-width:420px; padding:10px 10px; border:1px solid var(--input-border);
      border-radius:8px; font-size:16px; box-sizing:border-box; background:#fff;
    }
    .controls button{
      padding:10px 14px; font-size:16px; border:none; border-radius:10px;
      background:var(--button-primary-bg); color:var(--header-text); cursor:pointer; touch-action:manipulation;
    }
    .controls button:active{ transform:translateY(1px); }
    .controls button:hover{ background:var(--button-primary-hover); }

    .popouts{ margin-top:8px; display:flex; justify-content:center; flex-wrap:wrap; gap:8px; }
    .popouts button{
      padding:10px 14px; font-size:15px; border:none; border-radius:10px;
      background:var(--button-secondary-bg); color:var(--header-text); cursor:pointer; touch-action:manipulation;
    }
    .popouts button:active{ transform:translateY(1px); }
    .popouts button:hover{ background:var(--button-secondary-hover); }

    .tab-buttons{
      position:fixed; left:0; right:0; bottom:0;
      display:flex; justify-content:center; background:var(--tab-bg);
      padding-bottom: env(safe-area-inset-bottom);
      box-shadow:0 -2px 5px rgba(0,0,0,.15);
      z-index:20;
      transition: transform .2s
